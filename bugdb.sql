# MySQL dump 4.0
#
# Host: localhost    Database: php3
#--------------------------------------------------------

#
# Table structure for table 'bugdb'
#
CREATE TABLE bugdb (
  id int(8) DEFAULT '0' NOT NULL auto_increment,
  bug_type varchar(32),
  email varchar(40) DEFAULT '' NOT NULL,
  sdesc varchar(80),
  ldesc text,
  php_version varchar(16),
  php_os varchar(32),
  status varchar(16),
  comments text,
  ts1 datetime,
  ts2 datetime,
  dev_id varchar(16),
  PRIMARY KEY (id)
);

#
# Dumping data for table 'bugdb'
#

INSERT INTO bugdb VALUES (1,'Performance problem','rasmus@lerdorf.on.ca','Apache 1.3b3 + mod_php3 is slow','When PHP3 is linked into Apache 1.3b3 on Solaris 2.5.1 the\r\nweb server becomes extremely sluggish or won''t answer requests\r\nat all.  ','3.0b3','Solaris 2.5.1','Closed','This appears to be an Apache bug.  A workaround is to compile Apache with the following line\r\nin the Configuration file:\r\n\r\nEXTRA_CFLAGS=-DNO_SLACK=1 -DUSE_FCNTL_SERIALIZED_ACCEPT=1\r\n\r\nDon''t forget to re-run ./Configure after changing the Configuration file.','1998-01-25 11:06:03','1998-01-25 11:08:37','rasmus');
INSERT INTO bugdb VALUES (2,'Failed to compile','eschmid@delos.lf.net','hash_environment','Many thanks to my last problem.\r\n\r\nI았e forgotten to ''make install'' and failed on compiling\r\napache. I recompiled the recent php and got this:\r\n\r\nmarliesle# make\r\nbison -p php -v -d language-parser.y\r\ngcc -O2 -I.   -I/usr/local/apachen/src/main -I/usr/local/apachen/src/os/unix -I/usr/local/apachen/src/ap     -I/usr/local/include/mysql   -I/usr/local/pgsql/include  -g -Wall     -c language-parser.tab.c -o language-parser.tab.o\r\nflex -Pphp -olanguage-scanner.c -i language-scanner.lex\r\ngcc -O2 -I.   -I/usr/local/apachen/src/main -I/usr/local/apachen/src/os/unix -I/usr/local/apachen/src/ap     -I/usr/local/include/mysql   -I/usr/local/pgsql/include  -g -Wall   -w -c language-scanner.c\r\ngcc -O2 -I.   -I/usr/local/apachen/src/main -I/usr/local/apachen/src/os/unix -I/usr/local/apachen/src/ap     -I/usr/local/include/mysql   -I/usr/local/pgsql/include  -g -Wall     -c main.c -o main.o\r\nmain.c: In function `hash_environment'':\r\nmain.c:992: dereferencing pointer to incomplete type\r\nmain.c:995: dereferencing pointer to incomplete type\r\nmake: *** [main.o] Error 1\r\nmarliesle# \r\n\r\nHopefully someone can fix this?\r\n\r\nI앐 sure I have done several autoconf압 and autoheader압 to \r\nget away from that @STRONGHOLD@\r\n\r\nTo do not fill the BTS myself, can someone make msql, mysql\r\nand pgsql test압 working. With ''make test'' these test''s \r\naren앖 tested. \r\n\r\nEgon','3.0 Latest CVS','Debian 1.3/Linux 2.0.29','Closed','Ok, fixed.  This was caused by an Apache change.  The patch is at:\r\n\r\n    http://ca.php.net/cvsweb.cgi/main.c?r1=1.306&r2=1.307\r\n\r\nand\r\n\r\n    http://ca.php.net/cvsweb.cgi/functions/info.c?r1=1.37&r2=1.38','1998-01-25 17:23:29','1998-01-26 14:35:54','rasmus');
INSERT INTO bugdb VALUES (3,'Failed to compile','asparks@nss.harris.com','extern for errno missing in debugger.c','With debugger support enabled, errno is undeclared in\r\ndebugger.c.  Adding an "extern int errno;" at global\r\nlevel in module cleared problem.\r\n','3.0b3','SunOS 4.1.4','Closed','Fixed.  Patch at: http://www.php.net/cvsweb.cgi/debugger.c?r1=1.37&r2=1.38','1998-01-25 19:37:50','1998-01-25 22:42:24','rasmus');
INSERT INTO bugdb VALUES (4,'Failed to compile','asparks@nss.harris.com','LOG_NEWS, LOG_UUCP undeclared','LOG_NEWS and LOG_UUCP are not declared in HP/UX 9.x syslog.h\r\nThese lines (67 and 68 of functions/syslog.c) must be disabled.\r\n\r\n','3.0b3','HP/UX 9.04','Closed','Ok, Fixed.  Patch at http://www.php.net/cvsweb.cgi/functions/syslog.c?r1=1.20&r2=1.21','1998-01-25 19:40:43','1998-01-25 22:20:49','rasmus');
INSERT INTO bugdb VALUES (5,'Failed to compile','asparks@nss.harris.com','fclose in php3_minit_file undeclared','Compiling under SunOS 4.1.4:  gcc error trace:\r\n\r\nfunctions/file.c: In function `php3_minit_file'':\r\nfunctions/file.c:254: `fclose'' undeclared (first use this function)\r\nfunctions/file.c:254: (Each undeclared identifier is reported only once\r\nfunctions/file.c:254: for each function it appears in.)    \r\n\r\nApparently BROKEN_SUN_HEADERS does not get automatically set.\r\nHow are these supposed to get set?  Not set by configure.\r\n\r\n','3.0b3','SunOS 4.1.4','Closed','This should be fixed in the latest CVS (and then PHP/3.0b4). The configure script should now automatically detect that the declaration of fclose() is missing and set the MISSING_FCLOSE_DECL #define in config.h.','1998-01-25 19:46:13','1998-01-29 14:20:01','jim');
INSERT INTO bugdb VALUES (6,'Oracle related','kennh@sierra.com','Cannot connect to remote Oracle machine','I am not sure if this is a bug or if I am doing something,\r\nwrong.  Here is the email that I previously sent to the\r\nemail list:\r\n\r\nI am banging my head against the wall on this one.  How do I need to set\r\nthe environmental variables to connect to a remote Oracle machine? Note\r\nthat the actual machine is behind a firewall, but I have a static IP route\r\nto it.\r\n\r\nI have already tried:\r\n\r\nPutEnv("ORACLE_HOME=/db/oracle7/");\r\nPutEnv("ORACLE_SID=WG73"); \r\nPutEnv("WGSHOST=dbmachine.foo.com");\r\n\r\nand:\r\n\r\nPutEnv("ORACLE_HOME=/db/oracle7/");\r\nPutEnv("ORACLE_SID=WG73@dbmachine.foo.com");\r\n\r\nand:\r\n\r\nPutEnv("ORACLE_HOME=/db/oracle7/");\r\nPutEnv("ORACLE_SID=WG73_tcp_dbmachine.foo.com");\r\n\r\nand:\r\n\r\nPutEnv("ORACLE_HOME=/db/oracle7/");\r\nPutEnv("ORACLE_SID=WG73_tcp@dbmachine.foo.com");\r\n\r\n\r\nbut none seem to work.  \r\n\r\n\r\nThanks,\r\n\r\nKenn Herman\r\nAssistant Technical Webmaster\r\nSierra Online Services\r\n','3.0b3','Solaris','Closed','I never heard any "success reports" on SQL*Net.\r\nChecking if he is able to connect with sqlplus.\r\n\r\nOkay, it  turns out that he was using the wrong logon name (should\r\nuse "username@WG73").  This should be added to the documentation\r\nfor Ora_Logon.\r\n','1998-01-26 16:09:07','1998-01-29 07:53:54','ssb');
INSERT INTO bugdb VALUES (7,'Failed to compile','koles@atrey.karlin.mff.cuni.cz','apache 1.3b3 fails to compile with php3 module','I have compiled php3 as apache module with mysql support\r\nsuccessfully.\r\n\r\nBut apache with php3 failed to compile with messages\r\nabout undeclared struct timeval in main/http_main.c and \r\nrlim_t in main/http_core.c. (I fixed it temporarily by \r\nputting appropriate declaration in main/httpd.h).\r\n\r\nI dont understand how a module could cause these errors\r\nbut I had no problems with php3.0b3, that''s why I''m\r\nreporting that here :)','3.0 Latest CVS','Linux 2.0.33 (Redhat 5.0)','Closed','Safe to assume this is fixed by now','1998-01-26 17:00:02','1998-02-06 13:01:42','zeev');
INSERT INTO bugdb VALUES (8,'Other','walshj@ns.net','PHP.NET Show Source Error','FYI, when I go to the given URL and click on "view source", I get\r\n\r\n   Internet Explorer cannot open the Internet site\r\n   http://ca.php.net/show_source.php3?page_url=/bugs.php3.\r\n   Could not complete the operation due to error 800c0007.\r\n\r\nYes, it''s IE 4.01, but I thought you guys fixed this bug in one of the betas.','3.0 Latest CVS','WinNT Server 4.0','Closed','This was an Apache 1.3.x bug.  We thought it was fixed \r\nearlier, but the previous fix apparently left a lot to be \r\ndesired.  Dean Gaudet has come up with a fix for the fix.\r\n\r\nIf you are running a bleeding-edge Apache server look for a \r\ncommit from Dean shortly.','1998-01-26 17:47:14','1998-01-27 03:32:30','rasmus');
INSERT INTO bugdb VALUES (9,'Other','gareth@omnipotent.net','error using split function','The following scriptet:\r\n\r\n<?\r\n  $myarr=split(",",",something,that,starts,with,the,deliminator");\r\n?>\r\n \r\nreturns:\r\nWarning: bad regular expression for split() in /www/splittest.php on line 2\r\n\r\nand naturally doesn''t assign anything to the $myarr array.\r\n\r\nI suppose really you''d expect either to assign an empty value\r\nto the first item in the array, or else to skip the leading\r\ndeliminator altogether...\r\n','3.0 Latest CVS','Linux 2.0.33 / Intel P2/233','Closed','\r\nSmall side-note: For a simple split like this, using\r\nexplode() ( http://www.php.net/manual/function.explode.php3 ) is faster.\r\n\r\nThe bug in split() has been fixed now.  Patch is available at:\r\n\r\n    http://www.php.net/cvsweb.cgi/functions/reg.c?r1=1.68&r2=1.69\r\n\r\nOr wait for the the b4 release.','1998-01-26 18:29:54','1998-01-28 01:11:43','rasmus');
INSERT INTO bugdb VALUES (10,'Other','walton@nordicdms.com','formencode/formdecode','I just noticed that formencode and formdecode, which\r\nappeared briefly in 3.0b3-dev, vanished in 3.0b3.  \r\nI suspect that wasn''t intentional...\r\n','3.0b3','WinNT 4.0','Closed','explained on php3 list','1998-01-26 18:31:02','1998-01-27 02:55:40','jaakko');
INSERT INTO bugdb VALUES (11,'ODBC related','walton@nordicdms.com','odbc_exec() fails on successful query','[Reposted for entry into the nifty new bug database]\r\n\r\nWe''ve been calling stored procedures in MS-SQL thusly:\r\n\r\n  $result = odbc_exec($conn,"exec sp_asp_dmsGetArtist 303");\r\n\r\nThat has worked up to and including 3.0b2a.  However in\r\nmore recent versions, including 3.0b4-dev, that code has \r\nproduced:\r\n\r\n  Warning:  Function SQLExecDirect in testodbc.php3 on line 22\r\n  Warning:  SQL error: [Microsoft][ODBC SQL Server Driver]Cursor type \r\n            changed, SQL state 01S02 in testodbc.php3 on line 22\r\n\r\nAccording to ODBC docs:\r\n\r\n  SQLSTATE:  01S02\r\n  Error:  Option value changed\r\n  Description:  The driver did not support the specified\r\n                value of the vParam argument and\r\n                substituted a similar value. (Function\r\n                returns SQL_SUCCESS_WITH_INFO.)\r\n\r\nBy comparing the 3.0b2a and 3.0b3-dev unified_odbc.c files,\r\nwe''ve located the probable cause of this error.  In\r\nphp3_uodbc_do() on line 763 (in 3.0b3-dev) we see:\r\n\r\n  if(SQLSetStmtOption(result->stmt, SQL_CURSOR_TYPE, SQL_CURSOR_DYNAMIC)\r\n     != SQL_SUCCESS){\r\n\r\nThat function call appears to complete successfully.  Then,\r\non line 776 we see:\r\n\r\n  if((rc = SQLExecDirect(result->stmt, query, SQL_NTS)) != SQL_SUCCESS){\r\n\r\nIt is this function that appears to generate the error.  My\r\nguess is that our ODBC driver doesn''t support SQL_CURSOR_DYNAMIC\r\nand falls back to the default cursor type (which works fine\r\nin 3.0b2a).  The query then completes successfully (according\r\nto SQLTrace), and returns SQL_SUCCESS_WITH_INFO (according to\r\nODBC doc quote above).\r\n\r\nBased on this information, I believe the fix is to replace \r\nline 776 with:\r\n\r\n  rc = SQLExecDirect(result->stmt, query, SQL_NTS);\r\n  if (rc != SQL_SUCCESS && rc != SQL_SUCCESS_WITH_INFO) {\r\n\r\n','3.0 Latest CVS','WinNT 4.0','Closed','This patch submitted and appears in functions/unified_odbc.c\r\nversion 1.26.\r\n','1998-01-26 18:58:26','1998-01-27 07:49:38','ssb');
INSERT INTO bugdb VALUES (12,'ODBC related','walton@nordicdms.com','odbc_execute() causes application error','[Reposted with updates for 3.0b4-dev behavior]\r\n\r\nI''ve been experimenting with odbc_prepare() and odbc_execute()\r\nto try to figure out how to use them, and have succeeded only\r\nin generating application errors when calling odbc_execute().\r\nI don''t know for sure that I''m using them right, but they\r\nshould at least complain and exit gracefully, not crash in\r\nsuch an ugly way.\r\n\r\nHere''s my code:\r\n\r\n  $result = odbc_prepare($conn,"{call sp_asp_dmsGetArtist (?)}");\r\n  $parm[0] = 303;\r\n  $result = odbc_execute($result, $parm);\r\n\r\nIf I comment out odbc_execute(), the code completes nicely,\r\nbut leaving it in causes a crash.  According to SQLTrace, \r\nthe query *is* getting sent to the server, which implies \r\nthat the crash occurs after the SQLExecute() at line 626 \r\nof unified_odbc.c (3.0b3-dev).\r\n\r\nIf I change (?) -> (?, ?) in the first line and insert\r\n  $parm[1] = 0;\r\nafter the second line, I get the same results.\r\n\r\nHowever, if I change (?) -> (?, ?) and leave $parm[1] unset,\r\nPHP still crashes, but the query is never sent to the server.\r\nIn this case, PHP should catch the mismatch in parameters \r\nat line 599 and return immediately, which explains why\r\nSQLExecute() isn''t called.  Unfortunately, that doesn''t \r\nexplain why PHP still crashes.\r\n\r\n**** Update for 3.0b4-dev ****\r\n\r\nUsing\r\n  $result = odbc_prepare($conn,"{call sp_asp_dmsGetArtist (?, ?)}");\r\nwhile leaving out\r\n  $parm[1] = 0;\r\nno longer causes a crash.  It now properly returns with:\r\n  Warning:  Not enough parameters (1 should be 2) given\r\n\r\nIn the cases that still cause a crash, the last output from\r\nPHP is:\r\n  <br>\r\n  <b>Warning:</b>\r\nwhich implies that PHP is dieing inside of php3_error()?!\r\n','3.0 Latest CVS','WinNT 4.0','Closed','No more crashing with b4,\r\nbut odbc_cursor() doesn''t return a name in this environment.\r\nI''m unable to reproduce this behaviour. (Different OS/Drivermanager/Driver)','1998-01-26 19:31:30','1998-02-04 09:20:02','kara');
INSERT INTO bugdb VALUES (13,'Parser error','jan@nrw.net','Indirect vars don''t work anymore','The following works under php2, but fails under php3:\r\n\r\n$a="b";\r\n$b="Test!!";\r\necho "$$a";\r\n\r\nPhp3 says: "$b";\r\nPhp2 says: "Test!!";\r\n\r\nThis breaks nearly all my apps... :-/','3.0b3','BSDI2.1','Closed','Not really a bug.  More like a change in behaviour.  The string embedded\r\nvariable handling in PHP3 only handles simple cases.  The way around\r\nthe problem is to use: echo "normal string stuff ".$$var." more string stuff";\r\n\r\nWe will however consider this report a "request for feature" ;)','1998-01-27 04:53:27','1998-01-27 11:14:06','rasmus');
INSERT INTO bugdb VALUES (14,'Parser error','wombat@hof.baynet.de','','PHP does not handle POST data correctly. If I write a HTML Form that\r\nsends some information to the .phtml script, it *does* set the variables\r\n(<input ... name="var" value="val"> DOES result in $var = "val", but $argv\r\nand $argc are not set correctly ($argv[0], $argv[1] etc do not return anything)\r\n\r\nhtml:\r\n<form method=POST action="test.phtml" enctype="application/x-www-form-urlencoded">\r\n<input type="text" name="variable" value="value">\r\n<input type="submit" value="Submit">\r\n</form>\r\n\r\nphtml:\r\n<?; echo $argc; echo $argv; echo $argv[0]; echo $argv[1]; ?>\r\n\r\nPossible solution: can I read data directly from STDIN ?\r\n\r\nThere are no extras compiled in php, except the Apache Support (running Apache 1.3)\r\n','3.0b3','','Closed','Not a bug.  $argc and $argv are not supposed to be set for POST data.\r\nThey are only set for GET data.','1998-01-27 05:26:17','1998-01-27 10:58:57','rasmus');
INSERT INTO bugdb VALUES (15,'Other','walshj@ns.net','Apache 1.2.4 .htaccess directives','Adding any PHP3 Module directive results in an Error 500. Note: Should safe mode have the capability of being overridden by .htaccess or should that only be an option in php.ini or srm.conf?  Some ISPs may allow dot files to be uploaded.\r\n\r\nExample .htaccess file:\r\n     IndexIgnore .htaccess */.??* *~ *# */HEADER* */README*\r\n\r\n     <Limit GET POST>\r\n     order deny,allow\r\n     deny from all\r\n     allow from all\r\n     </Limit>\r\n     <Limit PUT DELETE>\r\n     order deny,allow\r\n     deny from all\r\n     </Limit>\r\n     AuthName somedomain.com\r\n     AuthUserFile /home/goo/blah/_vti_pvt/service.pwd\r\n     AuthGroupFile /home/goo/blah/_vti_pvt/service.grp\r\n\r\n\r\n     # -PHP3-\r\n     php3_safe_mode 0\r\n     php3_include_path /home/goo/blah/media/include','3.0b3','Solaris 2.5.1','Closed','[Jim]\r\nTo see a list of which directives may only be included in the *.conf files, run ''grep RSRC_CONF mod_php3.c''.\r\n\r\nIf you are having problems with particular directives in your configuration, please open a new bug with \r\nmore specific information about the error being generated (such as the relevant log entries from your \r\nserver''s error log). "Error 500" just means there was a server error, and doesn''t give any indication of \r\nwhat it was.\r\n\r\n[Rasmus]\r\nThe argument to php3_safe_mode should be either ''on'' or ''off'' and it shouldn''t core dump.  I just tested\r\nwith Apache 1.2.6-dev on a Solaris 2.5.1 machine and it works perfectly.  The only reason you might be\r\nseeing a core is if you don''t match up PHP''s regex library with Apache''s.  I suggest using the bundled\r\nlibrary for both.  PHP defaults to the bundled library, so you should edit your Apache 1.2.x Configuration\r\nfile and set WANTHSREGEX=yes and then recompile.','1998-01-27 15:02:41','1998-01-30 02:45:11','rasmus');
INSERT INTO bugdb VALUES (16,'Parser error','','problem print in a for loop....','/* Here is the the setup of my vars, the array is loaded\r\n   up in some sql code not represented here.  It loads up\r\n   fine\r\n*/\r\n\r\n$fieldstr =     "id title prod_key filename bytes last_mod ".\r\n                "loc_type status_type type_type ram hd_mb ".\r\n                "sound_type mhz_type proc_type blurb";\r\n \r\n$fieldarr = explode(" ", $fieldstr);\r\n\r\n$arraylen = count($fieldarr); \r\n\r\n/* This for loop does not put put a "<BR>\\n" at the end\r\n   of every line.\r\n*/\r\nfor ($i = 0; $i < $arraylen; $i++) {\r\n        $line = "$fieldarr[$i] = " . $$fieldarr[$i] . "<BR>\\n";\r\n        print("$line");\r\n}\r\n\r\n/* but the following does */\r\nfor ($i = 0; $i < $arraylen; $i++) {\r\n        $line = "<BR>\\n$fieldarr[$i] = " . $$fieldarr[$i];\r\n        print("$line");\r\n}\r\n\r\n\r\n/* Any ideas? */ ','3.0b3','Solaris 2.5.1','Closed','I am unable to reproduce this.  I am using the above script and it gives me <BR>''s after each line in\r\nboth loops.  Please try running this exact script.  Perhaps you overlooked something and aren''t\r\ntelling us about all the factors.','1998-01-27 23:07:03','1998-02-12 01:04:50','rasmus');
INSERT INTO bugdb VALUES (17,'--Please Select--','ralf@geno.net','new_connection - multiple definition','http_main.o and \r\n\r\nin /usr/local/lib/libldap.a(request.o) \r\n\r\nboth use ''new_connection''\r\n\r\nPHP 3.0b3 using the LDAP-module based on UoM SLAPD 3.31 and Apache 1.2.5\r\n\r\n\r\nAny workarounds ???\r\n\r\nBye,\r\nRalf Kuehnbaum\r\n\r\n\r\nconfigureline:\r\n# ./configure  --with-apache=/home/projekte/src/apache_1.2.5 --with-adabas=/usr\r\n\r\nLinker-error:\r\n/usr/local/lib/libldap.a(request.o): In function `new_connection'':\r\nrequest.o(.text+0x380): multiple definition of `new_connection''\r\nhttp_main.o(.text+0x1770): first defined here\r\n/usr/i486-linux/bin/ld: Warning: size of symbol `new_connection'' changed from 16\r\n4 to 759 in request.o\r\n','3.0b3','Linux 2.0.33','Closed','This will be fixed in the next beta release of Apache.\r\n\r\nThe workaround is simply to rename the function in the Apache source\r\nfiles.  It is actually only called from within the file where it is defined, so\r\ntechnically you could just make it static.','1998-01-28 09:49:03','1998-01-28 11:13:09','rasmus');
INSERT INTO bugdb VALUES (18,'Other','fdeleau@comtech.be','get_browser() doesn''t work.','I have php3.0b3 compiled as a module for Apache 1.2.5\r\n\r\nThe httpd process crashes (segmentation fault)when the \r\nfollowing line is executed:\r\n        \r\n       <? $browser = get_browser(); ?>\r\n\r\nThe browscap.ini I''m using comes from http://php.netvision.net.il/browscap/\r\n\r\n* My configure line:\r\n--------------------\r\n\r\n./configure --disable-debug --with-apache=/usr/src/apache_1.2.5 --with-mysql=/usr/src/mysql-3.21.18a-beta --with-config-file-path=/etc/httpd/conf --with-config-file=php3.ini\r\n\r\n* In php3.ini, I have :\r\n-----------------------\r\n\r\n[browscap]\r\nbrowscap = "/etc/httpd/conf/browscap.ini"\r\n\r\n\r\nRegards,\r\nFabrice','3.0b3','Linux 2.0.33','Closed','The problem was that the regular expression libraries used by PHP and apache weren''t the same.\r\nget_browser() uses regex''s, which caused the problem.','1998-01-28 10:25:45','1998-01-28 12:09:36','zeev');
INSERT INTO bugdb VALUES (19,'Failed to compile','Brian.Craigie@necs.demon.co.uk','@STRONGHOLD@: No such file or directory','After updating with the latest CVS, a make produces:\r\n>make\r\ngcc -O2 -I. -I/usr/local/include  -I/utils/downloaded/apache/apache_1.3a1/src     -I/usr/local/include/mysql -g -Wall @STRONGHOLD@   -c  language-parser.tab.c\r\ngcc: @STRONGHOLD@: No such file or directory\r\n*** Error code 1\r\nmake: Fatal error: Command failed for target `language-parser.tab.o''\r\n\r\nA configure, then a make produces the same thing.\r\n','3.0 Latest CVS','Solaris 2.5.1','Closed','Run autoconf\r\n\r\nWhen using the CVS tree you might want to enable maintainer mode\r\nin configure.  (see configure --help) to have it automatically check\r\nfor configure.in changes.','1998-01-28 11:07:51','1998-01-28 11:11:36','rasmus');
INSERT INTO bugdb VALUES (20,'Oracle related','chris@enginered.com','Memory Leak','PHP3.0b3 as Apache Module with Oracle Support on Solaris 2.5.1\r\n\r\nlooks like a pretty nasty memory leak (oracle.c:743, oracle.c:787).\r\n\r\nhappens when getting TABLE_NAME from ALL_TABLES\r\n\r\n(oh, also DESCRIBE causes a parser error).','3.0b3','Solaris 2.5.1','Closed','DESCRIBE is a command specific for the sqlplus program.\r\nIn other programs you have to look in the Oracle data\r\ndictionary to find information about tables.\r\n\r\nTry this for a start:\r\n  SELECT * FROM user_tab_columns WHERE table_name = ''YOUR_TABLE''\r\n\r\nThe memory leak is fixed in revision 1.45 of functions/oracle.c\r\nand will appear in 3.0b4.\r\n','1998-01-28 18:41:20','1998-02-01 16:59:23','ssb');
INSERT INTO bugdb VALUES (21,'Failed to compile','billh@airmail.net','compile failed with no adabased.o','Ran configure with no adabase support, and make\r\nfails with cannot find adabased.o\r\n\r\nNetBSD 1.3/Pmax','3.0b3','NetBSD 1.3','Closed','This is a BSD make problem as far as I am concerned.  The workaround is to use\r\nGNU make available from ftp://prep.ai.mit.edu/pub/gnu/','1998-01-28 19:20:28','1998-01-29 01:41:46','rasmus');
INSERT INTO bugdb VALUES (22,'Parser error','koles@atrey.karlin.mff.cuni.cz','names of properties conflict with keywords','Following simple script\r\n\r\n<?php\r\nclass test { var $include; };\r\n$t = new test;\r\n$t->include = "header.php3";\r\n?>\r\n\r\nproduces "parse error, expecting `STRING'' or `''{'''' or `''$''''".\r\n\r\nIf this is a feature :), it would be nice to see some error\r\nmessege about conflict declaration of $this->include on \r\nline 2.','3.0 Latest CVS','Linux 2.0.33 (Redhat 5.0)','Closed','Fixed in CVS and PHP/3.0b4.','1998-01-29 05:24:27','1998-01-29 18:07:03','jim');
INSERT INTO bugdb VALUES (23,'Other','svein.parnas@sting.bibsent.no','Ifelse bug?','In a script like this:\r\n\r\nif (expr1):\r\n <dothings1>\r\nelseif (expr2):\r\n <dothings2>\r\nelseif (expr3):\r\n <dothings3>\r\nelseif ($a = my_procedure(does some mysql things)):\r\n <dothings4>\r\nendif;\r\n\r\nmy_procedure is executed even if expr3 is true\r\n(but dothings3 is done and not dothings 4 as expected).\r\n\r\n\r\n\r\nSvein\r\n','3.0 Latest CVS','Linux RH5','Closed','Fixed in latest CVS and PHP/3.0b4.','1998-01-30 12:23:55','1998-01-30 14:03:32','jim');
INSERT INTO bugdb VALUES (24,'Other','alden@math.ohio-state.edu','PHO allowing the overwriting of environment variables','Hi,\r\n  According to the php 2.0 doc''s (I am using 3.0) PHP isn''t\r\nsupposed to allow the overwriting of environment variables\r\nby adding "?REMOTE_HOST=some.bogus.host".  I have the\r\nfollowing file "test.php3" in my doc root:\r\n\r\n<html><head><title>test</title></head><body>\r\n<?echo "remote_host=$REMOTE_HOST";?>\r\n</body></html>\r\n\r\nAnd then I pointed netscape at:\r\n\r\nhttp://my.machine.edu/test.php3?REMOTE_HOST=some.bogus.host\r\n\r\nAnd it returned:\r\n\r\nremote_host=some.bogus.host\r\n\r\nAm I missing something?\r\n\r\nOn a similar topic, I need to get at the REMOTE_USER environment\r\nvariable without the user being able to change this.  I use\r\nthe .htaccess method of authentication, but I need to know\r\nthe username of the remote user.  In my old perl scripts I\r\njust checked REMOTE_USER, but PHP seems to allow the user\r\nto overwrite this.\r\n\r\n...thnx,\r\n...dave alden','3.0 Latest CVS','Solaris 2.6','Closed','Fixed.\r\nEnvironment variables will now overwrite any GET/POST/Cookie\r\nvariable.','1998-01-30 13:39:57','1998-01-30 20:54:55','zeev');
INSERT INTO bugdb VALUES (25,'Failed to compile','edo@eosys.com','`O_RDONLY'' undeclared in unified_odbc.c','Aloha!\r\n\r\nJust a bit of a bug when compiling php-3.0b3 and current CVS tree\r\nwith unified-odbc/adabasd support:\r\n\r\nfunctions/unified_odbc.c: In function `php3_uodbc_execute'':\r\nfunctions/unified_odbc.c:671: warning: implicit declaration of function `open''\r\nfunctions/unified_odbc.c:671: `O_RDONLY'' undeclared (first use this function)\r\nfunctions/unified_odbc.c:671: (Each undeclared identifier is reported only once\r\nfunctions/unified_odbc.c:671: for each function it appears in.)\r\nmake: *** [functions/unified_odbc.o] Error 1\r\n\r\nAfter looking through the source I came up with the patch below.\r\nI really don''t see the need for the #else, but I noticed a similar\r\nstructure in another file. So, far be it for me to make any radical\r\nchanges. Anyway, here''s the patch:\r\n\r\ndiff -uNr php-3.0b3-orig/functions/unified_odbc.c php-3.0b3/functions/unified_odbc.c\r\n--- php-3.0b3-orig/functions/unified_odbc.c     Sat Jan 17 11:54:05 1998\r\n+++ php-3.0b3/functions/unified_odbc.c  Fri Jan 30 17:59:52 1998\r\n@@ -32,6 +32,7 @@\r\n #ifndef MSVC5\r\n #include "config.h"\r\n #include "build-defs.h"\r\n+#include <sys/fcntl.h>\r\n #else\r\n #include <fcntl.h>\r\n #endif\r\n\r\n\r\n-later, edo\r\n','3.0b3','Linux 2.0.33','Closed','Fixes','1998-01-30 23:13:04','1998-01-31 01:28:49','rasmus');
INSERT INTO bugdb VALUES (26,'ODBC related','be@shonline.de','Compilation fails with odbc support','compiling as cgi with only iODBC and unified ODBC enabled\r\n(iodbc -> myodbc 2.50.5) causes make to:\r\n\r\nfunctions/odbc.c:672: macro `emalloc'' used with too many (2) args\r\nfunctions/odbc.c:673: macro `emalloc'' used with too many (2) args\r\nfunctions/odbc.c:674: macro `emalloc'' used with too many (2) args\r\nfunctions/odbc.c:675: macro `emalloc'' used with too many (2) args\r\nfunctions/odbc.c:676: macro `emalloc'' used with too many (2) args\r\nfunctions/odbc.c:785: macro `emalloc'' used with too many (2) args\r\nfunctions/odbc.c:786: macro `emalloc'' used with too many (2) args\r\nfunctions/odbc.c:787: macro `emalloc'' used with too many (2) args\r\nfunctions/odbc.c:788: macro `emalloc'' used with too many (2) args\r\nfunctions/odbc.c:789: macro `emalloc'' used with too many (2) args\r\n*** Error code 1\r\nmake: Fatal error: Command failed for target `functions/odbc.o''\r\n','3.0 Latest CVS','Solaris 2.5.1','Closed','Fix appears in 3.0b4.  The old ODBC module has been\r\ndeprecated, compiling with iodbc should now enable\r\nunified odbc automatically.\r\n','1998-02-01 12:44:31','1998-02-01 17:01:38','ssb');
INSERT INTO bugdb VALUES (27,'Failed to compile','johnhowe@scn.org','Final linkage w/Apache 1.3b3 fails','Solaris 2.3 Generic_101318-88\r\nPHP w/GDBM (v1.7.3) support added.\r\nUsing GNU GCC 2.6.0, final linkage of Apache w/PHP fails with:\r\n\r\ngcc -O2 -DSOLARIS2=230 -DSTATUS     -o httpd buildmark.o modules.o modules/stand\r\nard/libstandard.a modules/extra/libextra.a main/libmain.a os/unix/libos.a ap/lib\r\nap.a regex/libregex.a  -Lmodules/extra -L../modules/extra -lphp3 -lgdbm  -lm -ld\r\nl -lnsl -lsocket\r\n\r\nUndefined                       first referenced\r\n symbol                             in file\r\nregerror                            modules/extra/libphp3.a(reg.o)\r\nld: fatal: Symbol referencing errors. No output written to httpd\r\nmake: *** [httpd] Error 1\r\n\r\nDid have a previous error w/ldl as well ( undefined ).\r\n\r\nHave tried copying *.o files in ~php/functions as \r\nper FAQ, no help.\r\n\r\nWill be upgrading to Solaris 2.6 this weekend \r\n( yeah ! ) and GNU GCC 2.7.X ( yeah again! ). \r\nMaybe it will go away\r\n\r\nWill keep hacking at it, maybe a DFU error somewhere, \r\nmyself being the DFU >;}~\r\n\r\nThanks a bunch,\r\n\r\nJohn Howe\r\nUnix SA, Antioch University Seattle','3.0b3','Solaris 2.3 Generic_101318-88','Closed','The proper fix would probably be upgrading Solaris. :-)\r\nDouble-check that PHP uses the same regex library as\r\nApache?\r\n','1998-02-01 19:44:55','1998-02-06 05:19:10','ssb');
INSERT INTO bugdb VALUES (28,'Other','mark@shelfspace.com','When I compile in support for MS FrontPage 98, php stops working','I am trying to get MicroSlops FrontPage 98 extensions to\r\nwork with my apache 1.3b3 server.  I have compiled in\r\nPHP support before and it works no problem.  When I\r\npatch Apache 1.3b3 so that FrontPage 98 extensions will\r\nwork, everything compiles fine...but once I install\r\nthe httpd, and try to pull up a .php3 document, I get\r\nthe message "document contains no data".  I check my\r\nserver logs, and the file request isn''t even getting\r\nlogged.  If I switch back to a httpd that doesn''t have\r\nFrontPage enabled-- the .php3 documents pull up no problem.\r\n\r\nIf you want to try it yourself, here are the patches\r\nthat I applied to the files in Apache 1.3b3:\r\nhttp://www.shelfspace.com/~mark/frontpage_patches/\r\n\r\nI''d be grateful for any help that you can give me.\r\n\r\nmark','3.0b3','Linux 2.0.32 (redhat 4.2)','Open','','1998-02-01 21:44:29','1998-02-01 21:44:29','');
INSERT INTO bugdb VALUES (29,'ODBC related','be@shonline.de','Core Dump when cgi with myodbc and uodbc','iodbc is myodbc-2.50.5\r\nmysql is mysql-3.21.22-beta\r\n\r\nnothing else compiled in. Here is the session:\r\n\r\nbe@shelley:~/php-fi/work $ ./php\r\n<?php\r\n \r\n   $conn=odbc_connect("mysql","","");\r\n   $cursor=odbc_cursor($conn);\r\nSegmentation Fault (core dumped)\r\n\r\nbe@shelley:~/php-fi/work $ gdb php core\r\n\r\nGDB is free software and you are welcome to distribute copies of it\r\n under certain conditions; type "show copying" to see the conditions.\r\nThere is absolutely no warranty for GDB; type "show warranty" for details.\r\nGDB 4.16 (sparc-sun-solaris2.5.1), Copyright 1996 Free Software Foundation, Inc...\r\nCore was generated by `./php''.\r\nProgram terminated with signal 11, Segmentation fault.\r\nReading symbols from /usr/lib/libm.so.1...done.\r\nReading symbols from /usr/lib/libdl.so.1...done.\r\nReading symbols from /usr/lib/libnsl.so.1...done.\r\nReading symbols from /usr/lib/libsocket.so.1...done.\r\nReading symbols from /usr/lib/libc.so.1...done.\r\nReading symbols from /usr/lib/libintl.so.1...done.\r\nReading symbols from /usr/lib/libmp.so.1...done.\r\nReading symbols from /usr/lib/libw.so.1...done.\r\nReading symbols from /opt/mysql/lib/libmyodbc_mysql.so...done.\r\nReading symbols from /usr/lib/nss_files.so.1...done.\r\n#0  0xef623d78 in strlen ()\r\n(gdb) bt\r\n#0  0xef623d78 in strlen ()\r\n#1  0x2a274 in format_converter (odp=0xefffd548, fmt=0x66415 "s", ap=0xefffdea0) at snprintf.c:732\r\n#2  0x2a654 in strx_printv (ccp=0xefffd5c4, buf=0xefffda40 "Unable to find result index ", len=1022, format=0x66415 "s", ap=0xefffdea0) at snprintf.c:906\r\n#3  0x2a6dc in ap_vsnprintf (buf=0xefffda40 "Unable to find result index ", len=1023, format=0x663f8 "Unable to find result index %s", ap=0xefffde9c)\r\n    at snprintf.c:930\r\n#4  0x2142c in php3_error (type=2, format=0x663f8 "Unable to find result index %s") at main.c:313\r\n#5  0x43b10 in php3_uodbc_cursor (ht=0x0, return_value=0x7bb60, list=0x7bb80, plist=0x7bbac) at functions/unified_odbc.c:756\r\n#6  0x1b2a4 in cs_functioncall_post_variable_passing (function_name=0xefffe1b0) at control_structures_inline.h:837\r\n#7  0x1db54 in phpparse () at language-parser.y:443\r\n#8  0x22afc in php3_parse (yyin=0x8c3f8) at main.c:1209\r\n#9  0x23160 in main (argc=1, argv=0xeffffd34) at main.c:1426\r\n(gdb)\r\nbe@shelley:~/php-fi/work $ \r\n','3.0 Latest CVS','Solaris 2.5.1','Closed','Fixed.  There was %s instead of %d in the error format string.\r\n','1998-02-02 08:14:26','1998-02-02 16:22:24','zeev');
INSERT INTO bugdb VALUES (30,'--Please Select--','tomo@arts.box.co.jp','problem of base64 function with 8bits (3.0b4)','hi. I found base64_encode() couldn''t work with 8-bits data string.\r\nI guess it is because base64_encode() in function/base64.c is using ''char*'' instead of ''unsigned char*''.\r\n\r\nin function/base64.c:64\r\n>char *base64_encode(const char *string) {\r\n>     const char *current = string;\r\n            ^^^^---> unsigned char\r\n\r\nbye.\r\n','3.0 Latest CVS','FreeBSD 2.2.5-stable','Closed','Fixed in\r\nbase64.c:\r\n     $Id$\r\n\r\nbase64.h:\r\n     $Id$\r\n','1998-02-03 02:29:12','1998-02-06 05:23:21','ssb');
INSERT INTO bugdb VALUES (31,'Performance problem','dhancock@arinc.com','file read times out','The following script:\r\n\r\n<?php\r\n$maxline = 10000;\r\n$file = fopen("foo.txt", "r");\r\nwhile (!feof($file)) {\r\n    if ($line = chop(fgets($file,$maxline))) {\r\n        echo $line, "\\n";\r\n    }\r\n}\r\n?>\r\n\r\nworks fine on php3.0b3 for Win32, but on php3.0b4, I\r\nget a 5-second delay, then a warning that php has timed\r\nout.\r\n\r\nThis is with php3.0b4 as downloaded from php.net.  I''m not\r\nmodifying php3.ini in any way, and the only differences\r\nbetween the ini files for the two versions is on the last\r\nline (browsercap.ini).\r\n\r\nMy data file (foo.txt) looks like this (although it\r\nshouldn''t matter):\r\n\r\nnews,mailinfo,forums\r\ncalendar,library,forums\r\n\r\nI''m definitely new to PHP, so feel free to point me\r\nto any resource I need to understand this.  I really\r\nthink this looks like a bug, but I won''t discount the\r\npossibility that it''s a PEBCAK (problem exists between\r\nchair and keyboard).\r\n\r\nCheers!\r\n--\r\nDavid Hancock | dhancock@arinc.com','3.0b4','Windows NT 4.0','Closed','This is fixed now.','1998-02-03 09:26:10','1998-02-03 11:27:08','shane');
INSERT INTO bugdb VALUES (32,'Oracle related','kennh@sierra.com','3.0b4 Oracle connection breaks with Stronghold','I have been playing around with compiling 3.0b3 with\r\nStronghold.  It worked on the Regular (http) and SSL (https)\r\nside connecting to Oracle.\r\n\r\nNow with 3.0b4, the regular Stronghold works, but the SSL\r\nside always returns "Document contains not data." when\r\ndatabase stuff is attempted.  Other PHP works.\r\n\r\nIt appears that it barfs on the ''Ora_Exec($cursor)''\r\nstatement.\r\n\r\nAs I said, it worked in 3.0b3-http, 3.0b3-https, and\r\n3.0b4-http but not 3.0b4-https.\r\n\r\nKenn Herman','3.0b4','Solaris 2.5.1','Open','','1998-02-03 17:52:21','1998-02-03 17:52:21','');
INSERT INTO bugdb VALUES (33,'mSQL related','chris@mrboston.com','Connecting to Specific Ports','Guys,\r\nIs it possible to tell PHP which port to connect to when working with mSQL or mySql?\r\n\r\nOr does PHP connect to the default only?\r\n \r\nie Can I run Two mSQL servers each on diffrent ports and access them seperatley?\r\n\r\nChris\r\n','3.0b4','BSD','Closed','The mSQL API doesn''t allow for the port to be set in runtime.\r\nHowever, support for optional port has been added to the\r\nMySQL connect functions (mysql_connect("host:port",...))\r\n','1998-02-03 23:16:07','1998-02-05 20:19:20','zeev');
INSERT INTO bugdb VALUES (34,'Other','torben@coastnet.com','"0" is false','\r\nThe following script prints "Weird":\r\n\r\n<? echo "0" ? "OK" : "Weird" ?>\r\n\r\n','3.0 Latest CVS','Linux 2.0.33','Closed','This was a bug in the documentation.\r\n','1998-02-04 03:12:58','1998-02-04 17:13:02','andi');
INSERT INTO bugdb VALUES (35,'Other','ed@dsv.nl','ImageCopyResized returns wrong value','Instead of returning a pointer to the newly created image, ImageCopyResized returns TRUE.\r\n\r\nMake these changes in gd.c, recompile, and everything works fine again:\r\n\r\nvoid php3_imagecopyresized(INTERNAL_FUNCTION_PARAMETERS) {\r\n        YYSTYPE *SIM, *DIM, *SX, *SY, *SW, *SH, *DX, *DY, *DW, *DH;\r\n\r\n/**** new var *******\r\n        int ind;\r\n********************/ \r\n\r\n        gdImagePtr im_dst;\r\n        gdImagePtr im_src;\r\n        int srcH, srcW, dstH, dstW, srcY, srcX, dstY, dstX;\r\n        int ind_type;\r\n        GD_TLS_VARS;\r\n\r\n        if (ARG_COUNT(ht) != 10 ||\r\n                getParameters(ht, 10, &DIM, &SIM, &DX, &DY, &SX, &SY, &DW, &DH,\r\n                                          &SW, &SH) == FAILURE) {\r\n                WRONG_PARAM_COUNT;\r\n        }\r\n\r\n        convert_to_long(SIM);\r\n        convert_to_long(DIM);\r\n        convert_to_long(SX);\r\n        convert_to_long(SY);\r\n        convert_to_long(SW);\r\n        convert_to_long(SH);\r\n        convert_to_long(DX);\r\n        convert_to_long(DY);\r\n        convert_to_long(DW);\r\n        convert_to_long(DH);\r\n\r\n        srcX = SX->value.lval;\r\n        srcY = SY->value.lval;\r\n        srcH = SH->value.lval;\r\n        srcW = SW->value.lval;\r\n        dstX = DX->value.lval;\r\n        dstY = DY->value.lval;\r\n        dstH = DH->value.lval;\r\n        dstW = DW->value.lval;\r\n\r\n        im_src = php3_list_find(SIM->value.lval, &ind_type);\r\n\r\n        if(!im_src || ind_type != GD_GLOBAL(le_gd)) {\r\n                php3_error(E_WARNING, "Unable to find source image pointer");\r\n                RETURN_FALSE;\r\n        }\r\n\r\n        im_dst = php3_list_find(DIM->value.lval, &ind_type);\r\n        if(!im_dst || ind_type != GD_GLOBAL(le_gd)) {\r\n                php3_error(E_WARNING, "Unable to find destination image pointer"\r\n);\r\n                RETURN_FALSE;\r\n        }\r\n\r\n        gdImageCopyResized(im_dst, im_src, dstX, dstY, srcX, srcY, dstW, dstH,\r\n                                           srcW, srcH);\r\n/******* WRONG RETURN VALUE ********\r\n//        RETURN_TRUE;\r\n***********************************/\r\n\r\n/******* Add these lines ***********\r\n        ind = php3_list_insert(im_dst, GD_GLOBAL(le_gd));\r\n\r\n        RETURN_LONG(ind);\r\n***********************************/\r\n}','3.0b4','All','Closed','ImageCopyResized() works, it was his script that had\r\nan obscure bug.\r\n','1998-02-04 07:28:25','1998-02-06 05:24:34','ssb');
INSERT INTO bugdb VALUES (36,'Parser error','a.hacker@clear.net.nz','Win32 binary GPF''s when using an empy array','The latest Win32 compile dies when running a script which includes an empty array err thing :)\r\nThis does it\r\n\r\n<?\r\n$crashme[] = file("text.txt");\r\n?>\r\n\r\nand so does this\r\n<?\r\n$crashme[] = count($filename);\r\n?>\r\n\r\nBut just using $crashme works fine.\r\n\r\nI picked these up when porting Travis Ortlieb''s live chat script to PHP3. I can forward the GPF message through if required.','3.0b4','Win95','Open','','1998-02-04 21:49:18','1998-02-04 21:49:18','');
INSERT INTO bugdb VALUES (37,'Feature/Change Request','mark@togglemedia.com','unexpected reset() behaviour with multi-dimensionsal arrays','With a multi-dimnesional array, $array, the reset() function does not seem to reset the array pointers for all of the dimensions of the array.\r\n\r\nFor example, with an array such as...\r\n\r\n$session["tab"][0]["test1"]=abc;\r\n$session["tab"][0]["test2"]=abc2;\r\n$session["peter"][1]["test1"]=abc;\r\n$session["tab"][1]["test1"]=abc;\r\n$session["tab"][2]=aaaargh;\r\n$session["name"]="mark";\r\n\r\nI currently need to do the following to reset it:\r\n\r\nreset($session);\r\nreset($session["tab"]);\r\nreset($session["tab"][0]);\r\n...\r\n\r\nrather than simply \r\n\r\nreset($session);\r\nor\r\nreset($session[]);\r\n\r\n-- Mark','3.0b4','WIN32','Closed','This is the way reset() behaves. It''s probably going to stay this way too.','1998-02-05 08:42:17','1998-02-05 15:42:29','andi');
INSERT INTO bugdb VALUES (38,'Other','k-waclena@uchicago.edu','Broken links in php web page','The links to the .tar.gz and .zip documentation files\r\nin the documentation web page (http://www.php.net/documentation.php3)\r\nare broken.  The broken links are:\r\n\r\n    http://www.php.net/manual.tar.gz\r\n\r\nand the corresponding .zip link.\r\n\r\nI am unable to generate PostScript for the documentation\r\ndue to nsgmls error, e.g.:\r\n\r\n    end tag for element "A" which is not open\r\n\r\nso I would really appreciate having the PostScript online\r\nfor download.\r\n\r\nThanks!\r\n','other','n/a','Closed','The files moved to /distributions...','1998-02-05 18:33:42','1998-02-07 09:16:11','zeev');
INSERT INTO bugdb VALUES (39,'Other','elfchief@lupine.org','Stronghold crashes when secure pages served','Okay, works fine, except when I try to have a page served\r\nby a secure virtual server under Stronghold. Normally,\r\nthings work fine, but a <? tag anywhere in a document\r\nwill cause Stronghold to segfault nicely when my request\r\nis going to an SSL-enrypted virtual server.\r\n\r\nHere''s a stack trace. (compiled with stronghold debugging\r\noff, php debugging on. Let me know if you need more)\r\n\r\n#0  0x80119f30 in kill ()\r\n#1  0x800ea8e5 in abort ()\r\n#2  0x8067d88 in just_die ()\r\n#3  <signal handler called>\r\n#4  0x4 in ?? ()\r\n#5  0xffffffff in ?? ()\r\n#6  0x80c02d7 in lex_scan (phplval=0x17) at language-scanner.c:571\r\n#7  0x80a118e in read_next_token (tcm=0x814e454, token=0x8046674, \r\n    phplval=0x8046778) at token_cache.c:132\r\n#8  0x809c18c in phplex (phplval=0x8046778) at main.c:395\r\n#9  0x80b980b in phpparse () at language-parser.tab.c:387\r\n#10 0x809d497 in php3_parse (yyin=0x814e9c8) at main.c:1210\r\n#11 0x809d652 in apache_php3_module_main (r=0x8191bc4, fd=22, \r\n    display_source_mode=0, preprocessed=0) at main.c:1500\r\n#12 0x8083acc in send_php3 ()\r\n#13 0x8083b2c in send_parsed_php3 ()\r\n#14 0x806bcb9 in invoke_handler ()\r\n#15 0x806e7c1 in process_request_internal ()\r\n#16 0x806e7fa in process_request ()\r\n#17 0x8068955 in child_main ()\r\n#18 0x8068ade in make_child ()\r\n#19 0x80690f1 in standalone_main ()\r\n#20 0x8069618 in main ()\r\n\r\n\r\n... Help!?!?','3.0b4','Solaris 2.5.1 x86','Closed','Fixed.  Stronghold has NULL elements on the\r\napache environment table, and hash_environment()\r\nwas trying to copy a string from there.','1998-02-06 03:08:13','1998-02-12 19:47:21','zeev');
INSERT INTO bugdb VALUES (40,'Failed to compile','ars@ziplink.net','possible fix for functions/*.o problem','I hope this is the right place for this.\r\n\r\nYou might want to recommend to users, in the INSTALL file,\r\nthat they use gmake instead of make. It fixes the problem\r\nwith functions/*.o files going in the wrong place.','3.0b4','FreeBSD','Closed','This is already mentioned in the first paragraph of the\r\nINSTALL file.','1998-02-06 03:25:04','1998-02-06 05:15:37','ssb');
INSERT INTO bugdb VALUES (41,'Installation problem','ars@ziplink.net','install paths in make incorrect','From makefile:\r\n\r\nprefix = /user/local\r\nsrcdir = .                            \r\nbindir = ${exec_prefix}/bin\r\n\r\nShouldn''t exec_prefix be just prefix?\r\n\r\nIt tried to install in /bin before I noticed it and changed it.','3.0b4','FreeBSD','Closed','Fixed in Makefile.in version 1.180.\r\n','1998-02-06 03:30:48','1998-02-06 05:13:38','ssb');
INSERT INTO bugdb VALUES (42,'Other','a.hacker@clear.net.nz','convert program dies on certain comments','Small niggly problem but I was converting a script I stumbled across and ran it through the PHP3->3 converter.\r\nThe converter died on comments ending in semi-colons like this\r\n/* this is a comment */ ;\r\n\r\nDon''t know if it''s a valid thing or just poor scripting but I thought I''d point it out. ','3.0b4','Win32','Closed','PHP/FI 2 accepted this, although IMHO it shouldn''t have.  The convertor\r\n''eats'' the comment, and is left with a semicolon.  Since empty statements\r\nweren''t valid in PHP/FI 2, the convertor rejects that code.\r\nIt''s possible to fix this specific issue, but it has potential to break\r\nother things, so I''d rather not do it...\r\n','1998-02-06 04:27:57','1998-02-06 12:59:28','zeev');
INSERT INTO bugdb VALUES (43,'Other','ars@ziplink.net','error in bench output','The benchmark runs a loop with and without a function and\r\nreports on how much extra time it took, it took about 5\r\nextra seconds, but the code is dividing by iterations (1000)\r\nand due to rounding reporting always 0 extra seconds per\r\niteration.','3.0 Latest CVS','FreeBSD','Closed','Picky picky!  ;)\r\n\r\nOk, extended output to 5 decimal places.','1998-02-08 01:34:13','1998-02-08 01:56:10','rasmus');
INSERT INTO bugdb VALUES (44,'Other','ars@ziplink.net','bench doesn''t run out of the box','The benchmark tests (make bench) don''t run out of the box\r\nbecause they take longer then 30 seconds and php stops the\r\ntest, I fixed it easy by adding a php3.ini file. But out of\r\nthe box it fails. Is there maybe a way to specify in the .php\r\nfile a timeout just for that file, instead of in php3.ini.\r\nIt could be useful not just for the benchmark tests, also\r\nfor long reports and such.','3.0 Latest CVS','FreeBSD','Closed','Fixed by calling set_time_limit(0); in the script.','1998-02-08 01:37:25','1998-02-11 16:31:11','rasmus');
INSERT INTO bugdb VALUES (45,'Documentation problem','ralf@geno.net','Missing doc for LDAP and SNMP support','Can앖 find any hints on commands and syntax for\r\n\r\nLDAP, SNMP and IMAP support.\r\n\r\nWhere do I have to look?','3.0b4','Linux 2.0.32','Open','','1998-02-08 13:43:40','1998-02-08 13:43:40','');
INSERT INTO bugdb VALUES (46,'Documentation problem','ars@ziplink.net','a string "0" false or true?','In the docs it says that "0" is false, but zeev in the CVS\r\ntree mentioned that this has been changed?','3.0 Latest CVS','FreeBSD','Closed','Fixed','1998-02-08 20:35:26','1998-02-09 08:40:24','rasmus');
INSERT INTO bugdb VALUES (47,'Documentation problem','ars@ziplink.net','elseif missing expr','In the docs on the part about elseif it has:\r\n\r\nif ($a>$b) {\r\n    print "a is bigger than b";\r\n} elseif {\r\n    print "a is equal to b";\r\n} else {\r\n    print "a is smaller than b";\r\n}\r\n\r\nI think it''s missing the ($a=$b) in the elseif.','3.0 Latest CVS','FreeBSD','Closed','Fixed','1998-02-08 20:37:13','1998-02-09 08:39:56','rasmus');
INSERT INTO bugdb VALUES (48,'Other','sbedberg@ucdavis.edu','filesize() function crashes PHP','CODE SNIPPET:\r\n\r\nif (filesize($thisgif) > 2) {\r\n   $typelist[$row[''type'']] = "<img src=\\"$thisgif\\"> $thisname<br>";\r\n} else {\r\n   $typelist[$row[''type'']] = "<b>($thistype)</b> $thisname<br>";\r\n}\r\n\r\nDETAILED DESCRIPTION:\r\n\r\nI was using filesize() as a file existence check for a .gif\r\nfile. Upon reaching the if... line, PHP hung in memory &\r\nrequired an NT server restart (the NT Process Monitor\r\nrefused to kill it).\r\n\r\nI haven''t had a chance to check any of the other filesystem\r\nroutines under WinNT...might this be an artifact of the\r\nUnix->Windopey NT port?\r\n\r\n','3.0b4','Windozer NT 4.0','Open','','1998-02-10 08:30:30','1998-02-10 08:30:30','');
INSERT INTO bugdb VALUES (49,'Failed to compile','thomas@fivemile.org','Conflicting defines for strndup','[root@stargate php-3.0b4]# make\r\ngcc -O2 -I.   -I/root/apache_1.2.5/src      -I/usr/local/Hughes/include    -g -Wall     -c language-parser.tab.c -o language-parser.tab.o\r\nIn file included from parser.h:120,\r\n                 from language-parser.y:49:\r\n/usr/include/string.h:96: conflicting types for `strndup''\r\nalloc.h:52: previous declaration of `strndup''\r\nmake: *** [language-parser.tab.o] Error 1\r\n[root@stargate php-3.0b4]#\r\n\r\nthe declaration in /usr/include/string.h is as follows:\r\n\r\nextern char *strndup __P ((__const char *__string, size_t __n));\r\n\r\ni configured PHP with \r\n\r\n./configure --with-system-regex --with-apache=/root/apache_1.2.5 --with-msql=/usr/local/Hughes','3.0b4','Redhat Linux 4.2 Alpha-AXP Versi','Closed','Fixed in the latest CVS tree!','1998-02-10 13:04:12','1998-02-10 16:24:17','andi');
INSERT INTO bugdb VALUES (50,'Other','ssb@guardian.no','crasher somewhere in php3_init_config','./configure  --with-apache=/local/www/src/apache --with-solid=/home/ssb/solid --enable-unified-odbc --without-system-regex --with-config-file-path=/local/www --with-msql=/usr/local/Hughes --enable-debugger\r\n\r\nApache 1.2 module\r\n\r\nThis crash seems to happen consequently on the forth request.\r\nI have not experimented too much to see what affects this number,\r\nMaxRequestsPerChild is 100.  I''m using php3_include_path,\r\nphp3_auto_prepend_file and php3_auto_append_file.\r\n\r\nIf someone gets an "aha!" from this, I''d appreciate it :-)\r\n\r\n(gdb) bt\r\n#0  _emalloc (size=14, filename=0x80f0a07 "fopen-wrappers.c", lineno=277)\r\n    at alloc.c:75\r\n#1  0x808181e in _estrdup (s=0x81931e0 ".::/local/www", \r\n    filename=0x80f0a07 "fopen-wrappers.c", lineno=277) at alloc.c:227\r\n#2  0x8084118 in php3_fopen_with_path (filename=0x80efd3d "php3.ini", \r\n    mode=0x80efd3b "r", path=0x81931e0 ".::/local/www", opened_path=0xbfffd704)\r\n    at fopen-wrappers.c:277\r\n#3  0x80826d2 in php3_init_config () at configuration-parser.y:171\r\n#4  0x807b7d6 in php3_config_ini_startup () at main.c:757\r\n#5  0x807be63 in php3_module_startup () at main.c:991\r\n#6  0x8075e47 in php3_create_dir (p=0x817a03c, \r\n    dummy=0x817a9c4 "/home/ssb/public_html/kiosk/") at mod_php3.c:246\r\n#7  0x8053ba5 in handle_command (parms=0xbffff7a0, config=0x817aa1c, \r\n    l=0xbfffd774 "php3_include_path .:/home/ssb/cvs/kunder/energidata/er東/lib/php") at http_config.c:667\r\n#8  0x8053cb0 in srm_command_loop (parms=0xbffff7a0, config=0x817aa1c)\r\n    at http_config.c:690\r\n#9  0x8053fd7 in parse_htaccess (result=0xbffff808, r=0x8179094, override=31, \r\n    d=0x817a9c4 "/home/ssb/public_html/kiosk/", \r\n    filename=0x817a9e4 "/home/ssb/public_html/kiosk/.htaccess")\r\n    at http_config.c:814\r\n#10 0x8055383 in directory_walk (r=0x8179094) at http_request.c:413\r\n#11 0x8056490 in process_request_internal (r=0x8179094) at http_request.c:957\r\n#12 0x8056778 in process_request (r=0x8179094) at http_request.c:1036\r\n#13 0x804f02c in child_main (child_num_arg=9) at http_main.c:1884\r\n#14 0x804f1aa in make_child (server_conf=0x815da5c, child_num=9)\r\n    at http_main.c:1948\r\n#15 0x804fa25 in standalone_main (argc=4, argv=0xbffff948) at http_main.c:2244\r\n#16 0x8050051 in main (argc=4, argv=0xbffff948) at http_main.c:2437\r\n\r\n(gdb) print head\r\n$1 = (mem_header *) 0x81ec3d0\r\n(gdb) print head->pLast\r\nCannot access memory at address 0x81ec3d4.\r\n','3.0 Latest CVS','Red Hat Linux 5.0','Closed','Fixed by Zeev and Rasmus.  Thanks!','1998-02-10 15:00:23','1998-02-11 21:36:32','ssb');
INSERT INTO bugdb VALUES (51,'Installation problem','katov@vdp.fr','Document contains no data !!!!','Sorry for my bad english,\r\n\r\nI''m using PHP3.0b4 (compiled as module) with Apache 1.3b3.\r\nAll compile well! The parsing of .phps working well.\r\nMy problem is that I alway obtain the message:\r\n"Document contains no data" when I try to access a .php3 file.\r\n\r\nI tried many things but nothing done.\r\n\r\nI have already read the FAQ an mailing list. All message says\r\nthat the problem is fixed with the last version. But not for me\r\n','3.0b4','Linux RedHat 5.0 (upgraded from','Closed','Make sure you compile your apache server and PHP 3.0 with\r\nyour system regex library (WANTHSREGEX=no in the apache\r\nConfiguration file and add --with-system-regex to your php\r\nconfigure line).\r\nIf this still doesn''t help, try and send the smallest\r\nscript possible which will reproduce the problem and if\r\npossible a gdb backtrace.\r\n\r\n\r\n(ssb) I assume this one is ok?','1998-02-10 15:24:10','1998-02-11 21:39:48','ssb');
INSERT INTO bugdb VALUES (52,'Other','walton@nordicdms.com','addslashes/stripslashes inconsistant','addslashes() inserts either '' or \\ depending on the\r\nsetting of magic_quotes_sybase.\r\n\r\nstripslashes() ignores magic_quotes_sybase, and only \r\nremoves \\.\r\n\r\nAs a result, ("a''b" == stripslashes(addslashes("a''b"))) \r\nsucceeds when magic_quotes_sybase = 0, but fails \r\nwhen magic_quotes_sybase = 1.\r\n\r\n','3.0b4','WinNT','Closed','Fixed','1998-02-10 17:26:24','1998-02-10 18:32:39','zeev');
INSERT INTO bugdb VALUES (53,'Other','tomo@arts.box.co.jp','$GLOBALS[] type','''echo gettype($GLOBALS)'' shows "string".\r\n\r\nis it true?\r\n','3.0b4','FreeBSD','Closed','$GLOBALS is a special variable. It is used to access global variables, like $GLOBALS["global_var"] but it \r\ncannot be used for anything else. You can''t directly reference $GLOBALS, that is you can''t do $a =$GLOBALS\r\n (the result will be false, which happens to be the empty string and thus you got a string type). \r\nNote that you can destroy $GLOBALS. If you do $GLOBALS=1, $GLOBALS will start acting like a regular \r\nlocal variable in the specific functions life time.\r\n','1998-02-10 22:23:47','1998-02-11 12:34:22','andi');
INSERT INTO bugdb VALUES (54,'Feature/Change Request','braddock@labrador.apana.org.au','Suggestion','One suggestion:\r\n\r\nA browser capabilities database with an easy to\r\nuse function call would be a good idea.  \r\n\r\nSuch a feature exists in Roxen and is a help in\r\ndetermining which HTML to send to a client.\r\n\r\n','3.0b4','','Closed','This feature is already available.','1998-02-10 22:59:49','1998-02-11 00:42:41','rasmus');
INSERT INTO bugdb VALUES (55,'Other','gorgo@caesar.elte.hu','not returning exit value of programs run with System, Exec & co','I''m using the apache module version with apache 1.2.4. \r\nI have some scripts which call external programs, mostly\r\nwith System. When I start apache, the return value is\r\nreturned correctly for a while. After some time it is not,\r\n-1 is returned. It might be a libc problem (I use glibc \r\n2.0.6, I am going to try with 2.0.7pre1 now), but I don''t\r\nthink it is probable.\r\n\r\nGreg ','3.0b4','linux','Open','waiting for feedback on suggested fix','1998-02-11 11:43:47','1998-02-12 00:36:16','rasmus');
INSERT INTO bugdb VALUES (56,'Oracle related','doussot@gifrance.com','Apache core dumps randomly on PHP/Oracle scripts','Apache (1.3b3) core dumps randomly on PHP/Oracle scripts.\r\nIT failts on Ora_Exec function. Oracle version is 7.3\r\nPhp and apache compiled which gcc 2.7.2.2\r\nThe test script is the on provided by PHP2 doc (and updated\r\nfor syntax changes of course)\r\n\r\nHere is the backtrace:\r\n\r\n#0  0x80119f30 in kill ()\r\n#1  0x800ea8e5 in abort ()\r\n#2  0x8087ad7 in sig_coredump ()\r\n#3  <signal handler called>\r\n#4  0x4 in ?? ()\r\n#5  0xffffffff in ?? ()\r\n#6  0x800f8b68 in free ()\r\n#7  0x80a61d2 in hash_destroy (ht=0x82df740) at hash.c:598\r\n#8  0x80b8569 in ora_describe_define (cursor=0x8289990)\r\n    at functions/oracle.c:834\r\n#9  0x80b801d in php3_Ora_Exec (ht=0xf62e37a0, return_value=0x825b0f8, \r\n    list=0x825b13c, plist=0x825b110) at functions/oracle.c:553\r\n#10 0x80c0406 in cs_functioncall_post_variable_passing (\r\n    function_name=0x80463e4) at language-parser.tab.c:843\r\n#11 0x80c28bd in phpparse () at language-parser.tab.c:450\r\n#12 0x80a5273 in php3_parse (yyin=0x82626c0) at main.c:1209\r\n#13 0x80a542a in apache_php3_module_main (r=0x828e15c, fd=18, \r\n    display_source_mode=0, preprocessed=0) at main.c:1499\r\n#14 0x806d8e0 in send_php3 ()\r\n#15 0x806d940 in send_parsed_php3 ()\r\n#16 0x808e544 in invoke_handler ()\r\n#17 0x809247d in process_request_internal ()\r\n#18 0x80924d3 in process_request ()\r\n#19 0x8088c25 in child_main ()\r\n\r\n\r\n','3.0 Latest CVS','Solaris 2.5.1 x86','Open','','1998-02-11 11:59:57','1998-02-11 11:59:57','');
INSERT INTO bugdb VALUES (57,'Feature/Change Request','wombat@hof.baynet.de','Wanted: $argv/$argc for POST method','For various scripts, I need the ability to read *all* variables that have\r\nbeen sent to a .phtml page (for example a Form Email page with unlimited\r\nnumber of fields). That feature is *really* needed.\r\n\r\n$argc should contain the variable count,\r\n$argv[0] ... $argv[$argc - 1] (???)  should contain variable name and\r\nvariable content (for example:\r\n $argv[0] = "FIELD1=Test"\r\n $argv[1] = "FROM=email@address.com"\r\netc\r\n\r\nor:\r\n $argv[0] = "FIELD1"\r\n $argv[1] = "Test"\r\n $argv[2] = "FROM"\r\netc.\r\n','3.0b4','Linux 2.0.32','Closed','The feature is already there.  The $argc/$argv variables are only for GET\r\nmethod arguments.  To get what you want, compile PHP with --enable-track-vars\r\nYou will then have three associative arrays available on all your pages:\r\n\r\n  $HTTP_POST_VARS\r\n  $HTTP_GET_VARS \r\n  $HTTP_COOKIE_VARS\r\n\r\nYou can step through these with the key/next/prev functions.\r\n','1998-02-11 12:50:33','1998-02-11 13:15:12','rasmus');
INSERT INTO bugdb VALUES (58,'Installation problem','ars@ziplink.net','prefix hard coded - ignores --prefix option','In Makefile.in the line\r\nprefix = /usr/local\r\nshould really be\r\nprefix = @prefix@\r\n\r\nOtherwise it ignores the --prefix option.','3.0 Latest CVS','FreeSBD','Closed','Fixed in Makefile.in revision 1.182','1998-02-11 17:43:06','1998-02-11 21:37:52','ssb');
INSERT INTO bugdb VALUES (59,'Parser error','jon@clearink.com','$this keyword parser error','referencing a variable which is a string by the $this within a string doesn''t work.\r\n\r\n$qry = "UPDATE visits SET timeout=Now(), WHERE sessionid=''$this->$sid''";\r\n\r\nif i do this, it works:\r\n\r\n$sid = $this->$sid;\r\n$qry = "UPDATE visits SET timeout=Now(), WHERE sessionid=''$sid''";\r\n\r\nthe parser error is:\r\n\r\nParse error: parse error, expecting `STRING'' in includes/functions.inc on line 89\r\n\r\n$sid is declared at the top of the class as:\r\n\r\nvar $sid="";\r\n','3.0b4','solaris 2.5.1','Closed','Not a bug, typo in script.\r\n\r\n  $sid = $this->$sid  should be $sid=$this->sid','1998-02-11 23:38:30','1998-02-12 00:19:01','rasmus');
INSERT INTO bugdb VALUES (60,'Other','jon@clearink.com','class problem','if "$theDb" is really named "$db", things do not work...thus renaming $db to $theDb is required\r\nvar $db never gets set properly.\r\n\r\nshouldn''t using $db as the variable name in setDB work (ie: the $db in setDB is different than var $db)?\r\n\r\n\r\n	class DatabaseManager\r\n	{\r\n		var $db;\r\n		\r\n		function getDB()\r\n		{\r\n			return $this->$db;\r\n		}\r\n		\r\n		function setDB( $theDb )\r\n		{\r\n			$this->$db = $theDb;\r\n		}\r\n	};\r\n','3.0b4','solaris','Closed','Typo in script, not a bug.\r\n\r\n   $this->$db should be $this->db','1998-02-12 00:10:20','1998-02-12 00:17:49','rasmus');
INSERT INTO bugdb VALUES (61,'Installation problem','danwang@cs.princeton.edu','--x-include doesn''t work as advertised','./configure --x-includes doesn''t work as advertised so I\r\ncan''t include /usr/include/pgsql when compiling for postgress\r\nI hacked the ./configure.in to take care of this here''s the\r\ncvs diff -c configure.in | more\r\n\r\nIndex: configure.in\r\n===================================================================\r\nRCS file: /repository/php3/configure.in,v\r\nretrieving revision 1.135\r\ndiff -c -r1.135 configure.in\r\n*** configure.in        1998/02/02 04:50:35     1.135\r\n--- configure.in        1998/02/12 05:16:37\r\n***************\r\n*** 500,506 ****\r\n            PGSQL_INCDIR=/usr/local/pgsql/include\r\n                PGSQL_LIBDIR=/usr/local/pgsql/lib\r\n        else\r\n!               PGSQL_INCDIR=$withval/include\r\n                PGSQL_LIBDIR=$withval/lib\r\n        fi\r\n      PGSQL_INCLUDE=-I$PGSQL_INCDIR\r\n--- 500,510 ----\r\n            PGSQL_INCDIR=/usr/local/pgsql/include\r\n                PGSQL_LIBDIR=/usr/local/pgsql/lib\r\n        else\r\n!         if test -d $withval/include/pgsql ; then\r\n!               PGSQL_INCDIR=$withval/include/pgsql\r\n!           else\r\n!                   PGSQL_INCDIR=$withval/include\r\n!         fi\r\n                PGSQL_LIBDIR=$withval/lib\r\n        fi\r\n      PGSQL_INCLUDE=-I$PGSQL_INCDIR','3.0 Latest CVS','RedHat Linux 5.0','Closed','Read the FAQ for information on how to have configure and the build process\r\nlook for includes and libraries in non-standard locations.','1998-02-12 00:19:41','1998-02-12 00:24:47','jim');
INSERT INTO bugdb VALUES (62,'Other','walton@nordicdms.com','s/printf() problem with %% in format string','%% appears to steal an argument from the s/printf()\r\nargument list.  When %% is the last %-construct in the\r\nformat string, the lack of an argument is silently ignored.\r\nIn other cases, unpleasant things happen:\r\n\r\nprintf("%d %%",1);\r\n1 %\r\n\r\nprintf("%d %% %d",1,2);\r\nWarning:  sprintf: too few arguments\r\n\r\nprintf("%d %% %d",1,2,3);\r\n1 % 3\r\n\r\n','3.0b4','WinNT','Closed','Fixed by Stig','1998-02-12 01:31:27','1998-02-13 11:54:54','zeev');
INSERT INTO bugdb VALUES (63,'Other','thies@digicol.dr','what purify says.....','when i compile 3.0b4 (or the CVS version) using purify then i get the following problems on make test (btw make test says "all tests passed"):\r\n\r\n(i don''t want to annoy anybody but my expirience says that things should NOT come up with this kind of problems when purifie''d)\r\n\r\nthe following is from the 1st test (make test) there are sone more things that seem to appear later in the tests...\r\n\r\nif somebody is interested into more "purified" stuff please contact me...\r\n\r\nbut - after all thanx for this cool php3!!!\r\ntc\r\n\r\n------\r\nSBR: Stack array bounds read:\r\n  * This is occurring while in:\r\n	memcpy         [rtlib.o]\r\n	hash_index_update_or_next_insert [hash.c:248]\r\n	_register_list_destructors [internal_functions.c:474]\r\n	php3_module_startup [main.c:978]\r\n	main           [main.c:1313]\r\n	_start         [crt1.o]\r\n  * Reading 44 bytes from 0xeffff930.\r\n  * Frame pointer 0xeffff948\r\n  * Address 0xeffff930 is local variable "ld" in function _register_list_destructors.\r\n\r\nthis also happens on \r\nphp3_minit_dir [dir.c:77]\r\nphp3_minit_file [file.c:194]\r\nphp3_minit_file [file.c:195]\r\nphp3_minit_db  %','3.0b4','solaris/hpux 10.x','Delete!','','1998-02-12 12:32:37','1998-02-12 12:43:24','zeev');
INSERT INTO bugdb VALUES (64,'Other','thies@digicol.de','what purify says.....','when i compile 3.0b4 (or the CVS version) using purify then i get the following problems on make test (btw make test says "all tests passed"):\r\n\r\n(i don''t want to annoy anybody but my expirience says that things should NOT come up with this kind of problems when purifie''d)\r\n\r\nthe following is from the 1st test (make test) there are sone more things that seem to appear later in the tests...\r\n\r\nif somebody is interested into more "purified" stuff please contact me...\r\n\r\nbut - after all thanx for this cool php3!!!\r\ntc\r\n\r\n------\r\nSBR: Stack array bounds read:\r\n  * This is occurring while in:\r\n	memcpy         [rtlib.o]\r\n	hash_index_update_or_next_insert [hash.c:248]\r\n	_register_list_destructors [internal_functions.c:474]\r\n	php3_module_startup [main.c:978]\r\n	main           [main.c:1313]\r\n	_start         [crt1.o]\r\n  * Reading 44 bytes from 0xeffff930.\r\n  * Frame pointer 0xeffff948\r\n  * Address 0xeffff930 is local variable "ld" in function _register_list_destructors.\r\n\r\nthis also happens on \r\nphp3_minit_dir [dir.c:77]\r\nphp3_minit_file [file.c:194]\r\nphp3_minit_file [file.c:195]\r\nphp3_minit_db  [db.c:1083]\r\n---------\r\n\r\nanother one is this:\r\n\r\nFMR: Free memory read (10 times):\r\n  * This is occurring while in:\r\n	lex_scan       [language-scanner.lex:957]\r\n	read_next_token [token_cache.c:132]\r\n	phplex         [main.c:397]\r\n	phpparse       [bison.simple:387]\r\n	php3_parse     [main.c:1208]\r\n	main           [main.c:1425]\r\n  * Reading 4 bytes from 0x1b4858 in the heap.\r\n  * Address 0x1b4858 is 40 bytes into a freed  block at 0x1b4830 of 48 bytes.\r\n  * This block was allocated from:\r\n	malloc         [rtlib.o]\r\n	_emalloc       [alloc.c:67]\r\n	stack_push     [stack.c:53]\r\n	eval_string    [language-scanner.lex:179]\r\n	phpparse       [language-parser.y:273]\r\n	php3_parse     [main.c:1208]\r\n  * There have been 0 frees since this block was freed from:\r\n	free           [rtlib.o]\r\n	_efree         [alloc.c:119]\r\n	stack_del_top  [stack.c:74]\r\n	lex_scan       [language-scanner.lex:956]\r\n	read_next_token [token_cache.c:132]\r\n	phplex         [main.c:397]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n','3.0b4','solaris/hpux 10.x','Closed','Fixed.  Patch:\r\n\r\n--- internal_functions.c        Thu Feb 12 19:37:57 1998\r\n+++ internal_functions-new.c    Thu Feb 12 19:37:32 1998\r\n@@ -471,7 +471,7 @@\r\n        ld.list_destructor=(void (*)(void *)) list_destructor;\r\n        ld.plist_destructor=(void (*)(void *)) plist_destructor;\r\n \r\n-       if (hash_next_index_insert(&GLOBAL(list_destructors),(void *) &ld,sizeof(GLOBAL(list_destructors)),NULL)==FAILURE) {\r\n+       if (hash_next_index_insert(&GLOBAL(list_destructors),(void *) &ld,sizeof(list_destructors_entry),NULL)==FAILURE) {\r\n                return FAILURE;\r\n        }\r\n        return GLOBAL(list_destructors).nNextFreeElement-1;\r\n','1998-02-12 12:32:42','1998-02-12 12:44:21','zeev');
INSERT INTO bugdb VALUES (65,'Failed to compile','elfchief@lupine.org','Fails to configure correctly under stronghold...','./configure fails to set php3 as an apache module\r\nwhen configured under stronghold, plus an additional\r\ninclude directory is needed so that all of the include\r\nfiles that stronghold''s httpd.h expects. Unified diffs\r\nfor configure.in follow:\r\n\r\ndiff -u -r1.1.2.1 configure.in\r\n--- configure.in        1998/02/06 06:45:46     1.1.2.1\r\n+++ configure.in        1998/02/12 18:40:12\r\n@@ -159,10 +159,11 @@\r\n                STRONGHOLD=\r\n # For StrongHold 2.2\r\n          elif test -f $withval/apache/httpd.h; then\r\n-           APACHE_INCLUDE=-I$withval/apache\r\n+           APACHE_INCLUDE="-I$withval/apache -I$withval/ssl/include"\r\n            APACHE_TARGET=$withval/apache\r\n            BINNAME=libphp3.a\r\n                STRONGHOLD=-DSTRONGHOLD=1\r\n+               AC_DEFINE(APACHE)\r\n                AC_MSG_RESULT(yes - StrongHold)\r\n          else\r\n            AC_MSG_RESULT(no)\r\n','3.0b4','Solaris x86 2.5.1','Closed','Thanks.  Patch committed.','1998-02-12 13:48:41','1998-02-12 13:56:55','rasmus');
INSERT INTO bugdb VALUES (66,'ODBC related','be@shonline.de','unix uodbc doesnt work with myodbc-2.50.5','the setup script tells me:\r\n\r\n---\r\nWhether to build PHP with iODBC support. This feature was first\r\ndeveloped for iODBC, but using other ODBC libraries should work as well\r\nwith some Makefile tweaking. Enter your iODBC install directory here.\r\nMore info about iODBC can be found at http://www.tcx.se/.  If you\r\nanswer `yes'', the default directory is `/usr/local''.\r\n \r\nODBC support? (`yes'', `no'' or dir) [no] : /opt/mysql\r\n\r\nWhether to enabled the unified ODBC support. This is a database module\r\nthat compiles with the C API of several DBMSes that happen to use ODBC\r\nas their C-API. Has been tested with iODBC, Solid and Adabas D.\r\nRequires that one (and only one) of these modules is enabled.\r\n \r\nEnable unified ODBC support? (yes/no) [yes] : yes\r\n---\r\n\r\nFirst of all the setup script does not produce a "configure"\r\ncall whith "--enable-unified-odbc" in it.\r\n\r\nSecond:\r\nmyodbc has been tested to work by using odbctool\r\nfrom the myodbc distribution:\r\n\r\nbe@shelley:~/mysql/iodbc-2.50.5/SAMPLES $ ./odbctool -q -d mysql "select * from hunz"\r\n<i>select * from hunz</i>\r\n<p>\r\n<table border=1>\r\n<th>bar</th>\r\n<tr>\r\n<td>88</td>\r\n</tr>\r\n<tr>\r\n<td>99</td>\r\n</tr>\r\n</table>\r\n\r\nnow i run this script as suggested by Andreas Karajannis:\r\n\r\n#!./php -q\r\n<?php\r\n\r\n   $ln_id=odbc_connect("mysql","","");\r\n\r\n   $query="select * from hunz";\r\n\r\n   $re_id=odbc_prepare($ln_id,$query);\r\n\r\n   $qu_ok=odbc_execute($re_id);\r\n\r\n   if ( $qu_ok ) {\r\n\r\n     $row=odbc_fetch_row($re_id);\r\n\r\n   }\r\n \r\n?>\r\n\r\nIt returns:\r\n\r\n<br>\r\n<b>Warning</b>:  No tuples available at this result index in <b>./test.php3</b> on line <b>13</b><br>\r\n\r\nThen I run this script as suggested by Stig Bakken:\r\n\r\n#!./php -q\r\n<?php\r\n \r\n   $ln_id=odbc_connect("mysql","","");\r\n \r\n   $query="select * from hunz";\r\n \r\n   $re_id=odbc_exec($ln_id,$query);\r\n \r\n   if ( $re_id > 0 ) {\r\n \r\n     $row=odbc_fetch_row($re_id);\r\n \r\n   }\r\n \r\n?>\r\n\r\nIt returns:\r\n\r\n<br>\r\n<b>Warning</b>:  Function SQLExecDirect in <b>./test.php3</b> on line <b>7</b><br>\r\n<br>\r\n<b>Warning</b>:  SQL error: , SQL state 00000 in <b>./test.php3</b> on line <b>7</b><br>\r\n\r\nWhat is wrong here?\r\n\r\nIs uodbc really tested to work with myodbc as said in the\r\nsetup script?','3.0 Latest CVS','solaris 2.5.1','Closed','This is a bug in iodbc and/or mysql, the workaround is\r\nusing odbc_prepare/odbc_execute instead of odbc_exec.\r\n','1998-02-12 14:56:05','1998-02-13 12:07:02','ssb');
INSERT INTO bugdb VALUES (67,'Oracle related','dhancock@arinc.com','Oracle access gives "document contains no data"','I''ll append a script that generates the error, and show\r\nwhat my configure line looks like.  I''m not using php3.ini.\r\n\r\nBasically, I''ve compiled and installed PHP 3.0b4 as a module\r\nin Apache 1.3b3.  I''ve done the fixes for Bug id #1.\r\n\r\nApache/PHP works, except with an Oracle retrieval.  Simple\r\nPHP scripts work fine, but when I run a simple Oracle\r\nretrieval, I get a "Document contains no data" message from\r\nthe browser.  I get some nasty looking signals showing up\r\nin the error log, too.\r\n\r\nI "fell back" to PHP 3.0b3, and this problem goes away,\r\nbut then I start getting memory leaks showing up in the\r\nerror log:\r\n\r\n[Thu Feb 12 14:32:37 1998] [error]\r\n(9)Bad file number: PHP3 memory leak detected:  \r\n52 bytes from functions/basic_functions.c:269\r\n\r\n[Note:  The Oracle retrieval still works.]\r\n\r\nMy configure line:\r\n==================\r\n./configure --with-apache=/vcomm/cots/apache\r\n--with-oracle=/oracle/oracle/app/oracle/product/7.3.3\r\n\r\nLog error messages similar to:\r\n==============================\r\n[Thu Feb 12 14:17:39 1998] [notice]\r\nhttpd: caught SIGSEGV, attempting to dump core in\r\n/vcomm/cots/apache\r\n\r\nHere''s a script that causes the "Document contains no\r\ndata" message (and apparently also the SIGSEGV message).\r\nIt''s taken from the documentation, and as I mentioned,\r\nworks OK (with a memory leak) in 3.0b3.\r\n\r\n<HTML><HEAD></HEAD>\r\n<BODY>\r\n<?\r\nPutEnv("ORACLE_HOME=/oracle/oracle/app/oracle/product/7.3.3");\r\nPutEnv("ORACLE_SID=devt");\r\n$conn = Ora_Logon("XXXXXX", "XXXXXX");\r\nif ($conn < 0) {\r\n    echo("Could not connect to Oracle.\\n");\r\n    exit;\r\n}\r\n$cursor = Ora_Open($conn);\r\nif ($cursor < 0) {\r\n    echo("Could not open a cursor.\\n");\r\n    Ora_Logoff($conn);\r\n    exit;\r\n}\r\nOra_CommitOff($conn);\r\n$query = "SELECT * FROM mime_types";\r\nif (Ora_Parse($cursor, $query) < 0) {\r\n    echo("Parse failed!\\n");\r\n    Ora_Logoff($conn);\r\n    exit;\r\n}\r\n$ncols = Ora_Exec($cursor);\r\necho "<P>\\n";\r\necho "<TABLE BORDER=1 CELLSPACING=0>\\n";\r\nwhile (Ora_Fetch($cursor) == 1) {\r\n    $i = 0;\r\n    echo "<TR>\\n";\r\n    while ($i < $ncols) {\r\n     /* Get data for a single column of currently fetched row. */\r\n     $col = Ora_GetColumn($cursor, $i);\r\n        echo("<TD>$col</TD>\\n");\r\n     $i++;\r\n    }\r\n    echo("</TR>\\n");\r\n}\r\necho "</TABLE>\\n";\r\n\r\nOra_Close($cursor);\r\nOra_Logoff($conn);\r\n?>\r\n</BODY></HTML>\r\n','3.0b4','Solaris 2.5.1','Open','','1998-02-12 15:12:10','1998-02-12 15:12:10','');
INSERT INTO bugdb VALUES (68,'Documentation problem','kk@shonline.de','Description for split contradicts itself.','In the Web server the documentation of split() contradicts\r\nitself: In the description the order of parameters is reversed\r\nwith respect to the example given.\r\n\r\nThe example works as advertised on my 3.0b3-dev:\r\n\r\n-----\r\nkk@kundera:~/Kunden/hobby $ ~/bin/php   \r\n<?php\r\n$p = "kris:x:103:100:lall laber";\r\n$q = split(":", $p);\r\nprint $q[0];\r\nContent-type: text/html\r\n \r\nkris\r\nkk@kundera:~/Kunden/hobby $ \r\n-----\r\n\r\nbut in the Description it is:\r\n\r\narray split(string string, string pattern, int limit);\r\n\r\nwhich is just the other way around.\r\n\r\n\r\nKristian\r\n','3.0b4','Your Web Server','Open','','1998-02-13 08:49:34','1998-02-13 08:49:34','');
INSERT INTO bugdb VALUES (69,'Parser error','kk@shonline.de','split() does not handle the regexp "/" correctly?','What is special about the regexp "/"?\r\n\r\n-----\r\nkk@kundera:~/Kunden/hobby $ ~/bin/php -v\r\n3.0b3-dev\r\nkk@kundera:~/Kunden/hobby $ ~/bin/php   \r\n<?php\r\n$p = "/de/lall/laber";\r\n$q = split("/", $p);\r\nContent-type: text/html\r\n \r\n<br>\r\n<b>Warning:</b>  bad regular expression for split() in <b>standard input</b> on line <b>3</b><br>\r\nkk@kundera:~/Kunden/hobby $ \r\n-----\r\n\r\n$q = split("\\/", $p) and $q = split(''/'', $p); fail as well.\r\n\r\nI''m back to using explode now, but I really need to do more complex things...\r\n\r\nKristian','3.0b3','SunOS kundera 5.5.1 Generic_1036','Open','','1998-02-13 08:54:26','1998-02-13 08:54:26','');

